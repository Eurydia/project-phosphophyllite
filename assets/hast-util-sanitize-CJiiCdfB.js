import{s as w}from"./@ungap-DDJC10qW.js";import{p as N}from"./unist-util-position-Dg4u7XPN.js";const d=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],m={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...d,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...d],h2:[["className","sr-only"]],img:[...d,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...d,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...d],table:[...d],ul:[...d,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},u={}.hasOwnProperty;function C(e,n){let t={type:"root",children:[]};const r={schema:n?{...m,...n}:m,stack:[]},o=g(r,e);return o&&(Array.isArray(o)?o.length===1?t=o[0]:t.children=o:t=o),t}function g(e,n){if(n&&typeof n=="object"){const t=n;switch(typeof t.type=="string"?t.type:""){case"comment":return S(e,t);case"doctype":return A(e,t);case"element":return P(e,t);case"root":return q(e,t);case"text":return O(e,t)}}}function S(e,n){if(e.schema.allowComments){const t=typeof n.value=="string"?n.value:"",r=t.indexOf("-->"),c={type:"comment",value:r<0?t:t.slice(0,r)};return h(c,n),c}}function A(e,n){if(e.schema.allowDoctypes){const t={type:"doctype"};return h(t,n),t}}function P(e,n){const t=typeof n.tagName=="string"?n.tagName:"";e.stack.push(t);const r=x(e,n.children),o=v(e,n.properties);e.stack.pop();let c=!1;if(t&&t!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(t))&&(c=!0,e.schema.ancestors&&u.call(e.schema.ancestors,t))){const p=e.schema.ancestors[t];let i=-1;for(c=!1;++i<p.length;)e.stack.includes(p[i])&&(c=!0)}if(!c)return e.schema.strip&&!e.schema.strip.includes(t)?r:void 0;const s={type:"element",tagName:t,properties:o,children:r};return h(s,n),s}function q(e,n){const r={type:"root",children:x(e,n.children)};return h(r,n),r}function O(e,n){const r={type:"text",value:typeof n.value=="string"?n.value:""};return h(r,n),r}function x(e,n){const t=[];if(Array.isArray(n)){const r=n;let o=-1;for(;++o<r.length;){const c=g(e,r[o]);c&&(Array.isArray(c)?t.push(...c):t.push(c))}}return t}function v(e,n){const t=e.stack[e.stack.length-1],r=e.schema.attributes,o=e.schema.required,c=r&&u.call(r,t)?r[t]:void 0,s=r&&u.call(r,"*")?r["*"]:void 0,p=n&&typeof n=="object"?n:{},i={};let a;for(a in p)if(u.call(p,a)){const l=p[a];let f=b(e,y(c,a),a,l);f==null&&(f=b(e,y(s,a),a,l)),f!=null&&(i[a]=f)}if(o&&u.call(o,t)){const l=o[t];for(a in l)u.call(l,a)&&!u.call(i,a)&&(i[a]=l[a])}return i}function b(e,n,t,r){return n?Array.isArray(r)?D(e,n,t,r):k(e,n,t,r):void 0}function D(e,n,t,r){let o=-1;const c=[];for(;++o<r.length;){const s=k(e,n,t,r[o]);(typeof s=="number"||typeof s=="string")&&c.push(s)}return c}function k(e,n,t,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&L(e,t,r)){if(typeof n=="object"&&n.length>1){let o=!1,c=0;for(;++c<n.length;){const s=n[c];if(s&&typeof s=="object"&&"flags"in s){if(s.test(String(r))){o=!0;break}}else if(s===r){o=!0;break}}if(!o)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(t)?e.schema.clobberPrefix+r:r}}function L(e,n,t){const r=e.schema.protocols&&u.call(e.schema.protocols,n)?e.schema.protocols[n]:void 0;if(!r||r.length===0)return!0;const o=String(t),c=o.indexOf(":"),s=o.indexOf("?"),p=o.indexOf("#"),i=o.indexOf("/");if(c<0||i>-1&&c>i||s>-1&&c>s||p>-1&&c>p)return!0;let a=-1;for(;++a<r.length;){const l=r[a];if(c===l.length&&o.slice(0,l.length)===l)return!0}return!1}function h(e,n){const t=N(n);n.data&&(e.data=w(n.data)),t&&(e.position=t)}function y(e,n){let t,r=-1;if(e)for(;++r<e.length;){const o=e[r],c=typeof o=="string"?o:o[0];if(c===n)return o;c==="data*"&&(t=o)}if(n.length>4&&n.slice(0,4).toLowerCase()==="data")return t}export{C as s};
//# sourceMappingURL=hast-util-sanitize-CJiiCdfB.js.map
