import{r as a,R as q}from"./react-Fj6bOIfE.js";import{R as G}from"./react-dom-xQmlCP6c.js";import{m as X,D as K,a as J,R as Q,u as Z,N as B,b as $,c as ee,d as te,e as ne,f as re}from"./react-router-CVt8wYb4.js";import{c as ie,b as ae,E as oe,s as O,d as V,i as se}from"./@remix-run-B1vbsBIE.js";/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C(){return C=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},C.apply(this,arguments)}function le(e,r){if(e==null)return{};var n={},i=Object.keys(e),t,o;for(o=0;o<i.length;o++)t=i[o],!(r.indexOf(t)>=0)&&(n[t]=e[t]);return n}const P="get",U="application/x-www-form-urlencoded";function D(e){return e!=null&&typeof e.tagName=="string"}function ue(e){return D(e)&&e.tagName.toLowerCase()==="button"}function ce(e){return D(e)&&e.tagName.toLowerCase()==="form"}function fe(e){return D(e)&&e.tagName.toLowerCase()==="input"}function de(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function me(e,r){return e.button===0&&(!r||r==="_self")&&!de(e)}let F=null;function pe(){if(F===null)try{new FormData(document.createElement("form"),0),F=!1}catch{F=!0}return F}const he=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function I(e){return e!=null&&!he.has(e)?null:e}function ve(e,r){let n,i,t,o,l;if(ce(e)){let u=e.getAttribute("action");i=u?O(u,r):null,n=e.getAttribute("method")||P,t=I(e.getAttribute("enctype"))||U,o=new FormData(e)}else if(ue(e)||fe(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(i=f?O(f,r):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||P,t=I(e.getAttribute("formenctype"))||I(u.getAttribute("enctype"))||U,o=new FormData(u,e),!pe()){let{name:s,type:c,value:p}=e;if(c==="image"){let m=s?s+".":"";o.append(m+"x","0"),o.append(m+"y","0")}else s&&o.append(s,p)}}else{if(D(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=P,i=null,t=U,l=e}return o&&t==="text/plain"&&(l=o,o=void 0),{action:i,method:n.toLowerCase(),encType:t,formData:o,body:l}}const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ye="6";try{window.__reactRouterVersion=ye}catch{}function He(e,r){return ie({basename:r?.basename,future:C({},r?.future,{v7_prependBasename:!0}),history:ae({window:r?.window}),hydrationData:r?.hydrationData||be(),routes:e,mapRouteProperties:X,window:r?.window}).initialize()}function be(){var e;let r=(e=window)==null?void 0:e.__staticRouterHydrationData;return r&&r.errors&&(r=C({},r,{errors:Se(r.errors)})),r}function Se(e){if(!e)return null;let r=Object.entries(e),n={};for(let[i,t]of r)if(t&&t.__type==="RouteErrorResponse")n[i]=new oe(t.status,t.statusText,t.data,t.internal===!0);else if(t&&t.__type==="Error"){if(t.__subType){let o=window[t.__subType];if(typeof o=="function")try{let l=new o(t.message);l.stack="",n[i]=l}catch{}}if(n[i]==null){let o=new Error(t.message);o.stack="",n[i]=o}}else n[i]=t;return n}const Re=a.createContext({isTransitioning:!1}),ge=a.createContext(new Map),Te="startTransition",H=q[Te],Ee="flushSync",M=G[Ee];function _e(e){H?H(e):e()}function L(e){M?M(e):e()}class xe{constructor(){this.status="pending",this.promise=new Promise((r,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",r(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}}function Me(e){let{fallbackElement:r,router:n,future:i}=e,[t,o]=a.useState(n.state),[l,u]=a.useState(),[f,s]=a.useState({isTransitioning:!1}),[c,p]=a.useState(),[m,g]=a.useState(),[w,x]=a.useState(),T=a.useRef(new Map),{v7_startTransition:k}=i||{},E=a.useCallback(d=>{k?_e(d):d()},[k]),h=a.useCallback((d,b)=>{let{deletedFetchers:v,unstable_flushSync:N,unstable_viewTransitionOpts:S}=b;v.forEach(R=>T.current.delete(R)),d.fetchers.forEach((R,Y)=>{R.data!==void 0&&T.current.set(Y,R.data)});let W=n.window==null||typeof n.window.document.startViewTransition!="function";if(!S||W){N?L(()=>o(d)):E(()=>o(d));return}if(N){L(()=>{m&&(c&&c.resolve(),m.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:S.currentLocation,nextLocation:S.nextLocation})});let R=n.window.document.startViewTransition(()=>{L(()=>o(d))});R.finished.finally(()=>{L(()=>{p(void 0),g(void 0),u(void 0),s({isTransitioning:!1})})}),L(()=>g(R));return}m?(c&&c.resolve(),m.skipTransition(),x({state:d,currentLocation:S.currentLocation,nextLocation:S.nextLocation})):(u(d),s({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}))},[n.window,m,c,T,E]);a.useLayoutEffect(()=>n.subscribe(h),[n,h]),a.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new xe)},[f]),a.useEffect(()=>{if(c&&l&&n.window){let d=l,b=c.promise,v=n.window.document.startViewTransition(async()=>{E(()=>o(d)),await b});v.finished.finally(()=>{p(void 0),g(void 0),u(void 0),s({isTransitioning:!1})}),g(v)}},[E,l,c,n.window]),a.useEffect(()=>{c&&l&&t.location.key===l.location.key&&c.resolve()},[c,m,t.location,l]),a.useEffect(()=>{!f.isTransitioning&&w&&(u(w.state),s({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),x(void 0))},[f.isTransitioning,w]),a.useEffect(()=>{},[]);let y=a.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,b,v)=>n.navigate(d,{state:b,preventScrollReset:v?.preventScrollReset}),replace:(d,b,v)=>n.navigate(d,{replace:!0,state:b,preventScrollReset:v?.preventScrollReset})}),[n]),_=n.basename||"/",j=a.useMemo(()=>({router:n,navigator:y,static:!1,basename:_}),[n,y,_]);return a.createElement(a.Fragment,null,a.createElement(K.Provider,{value:j},a.createElement(J.Provider,{value:t},a.createElement(ge.Provider,{value:T.current},a.createElement(Re.Provider,{value:f},a.createElement(Q,{basename:_,location:t.location,navigationType:t.historyAction,navigator:y,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},t.initialized||n.future.v7_partialHydration?a.createElement(Le,{routes:n.routes,future:n.future,state:t}):r))))),null)}function Le(e){let{routes:r,future:n,state:i}=e;return Z(r,void 0,i,n)}const Ce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=a.forwardRef(function(r,n){let{onClick:i,relative:t,reloadDocument:o,replace:l,state:u,target:f,to:s,preventScrollReset:c,unstable_viewTransition:p}=r,m=le(r,we),{basename:g}=a.useContext(B),w,x=!1;if(typeof s=="string"&&ke.test(s)&&(w=s,Ce))try{let h=new URL(window.location.href),y=s.startsWith("//")?new URL(h.protocol+s):new URL(s),_=O(y.pathname,g);y.origin===h.origin&&_!=null?s=_+y.search+y.hash:x=!0}catch{}let T=$(s,{relative:t}),k=De(s,{replace:l,state:u,target:f,preventScrollReset:c,relative:t,unstable_viewTransition:p});function E(h){i&&i(h),h.defaultPrevented||k(h)}return a.createElement("a",C({},m,{href:w||T,onClick:x||o?i:E,ref:n,target:f}))});var A;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(A||(A={}));var z;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(z||(z={}));function Fe(e){let r=a.useContext(K);return r||se(!1),r}function De(e,r){let{target:n,replace:i,state:t,preventScrollReset:o,relative:l,unstable_viewTransition:u}=r===void 0?{}:r,f=ee(),s=te(),c=ne(e,{relative:l});return a.useCallback(p=>{if(me(p,n)){p.preventDefault();let m=i!==void 0?i:V(s)===V(c);f(e,{replace:m,state:t,preventScrollReset:o,relative:l,unstable_viewTransition:u})}},[s,f,c,i,t,n,e,o,l,u])}function Pe(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let Ue=0,Ie=()=>"__"+String(++Ue)+"__";function Ke(){let{router:e}=Fe(A.UseSubmit),{basename:r}=a.useContext(B),n=re();return a.useCallback(function(i,t){t===void 0&&(t={}),Pe();let{action:o,method:l,encType:u,formData:f,body:s}=ve(i,r);if(t.navigate===!1){let c=t.fetcherKey||Ie();e.fetch(c,n,t.action||o,{preventScrollReset:t.preventScrollReset,formData:f,body:s,formMethod:t.method||l,formEncType:t.encType||u,unstable_flushSync:t.unstable_flushSync})}else e.navigate(t.action||o,{preventScrollReset:t.preventScrollReset,formData:f,body:s,formMethod:t.method||l,formEncType:t.encType||u,replace:t.replace,state:t.state,fromRouteId:n,unstable_flushSync:t.unstable_flushSync,unstable_viewTransition:t.unstable_viewTransition})},[e,r,n])}export{ze as L,Me as R,He as c,Ke as u};
//# sourceMappingURL=react-router-dom-CDo4w_Kf.js.map
