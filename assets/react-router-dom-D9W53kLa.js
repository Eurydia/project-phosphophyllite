import{r as a,R as q}from"./react-DaxiNUUd.js";import{R as G}from"./react-dom-TyGls9Vs.js";import{m as X,D as K,a as J,R as Q,u as Z,N as j,b as $,c as ee,d as te,e as ne,f as re}from"./react-router-BQLGHAX6.js";import{c as ie,b as ae,E as oe,s as I,i as se,d as V}from"./@remix-run-BTQM5VeW.js";/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C(){return C=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},C.apply(this,arguments)}function le(e,r){if(e==null)return{};var t={},i=Object.keys(e),n,o;for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(t[n]=e[n]);return t}const U="get",D="application/x-www-form-urlencoded";function F(e){return e!=null&&typeof e.tagName=="string"}function ue(e){return F(e)&&e.tagName.toLowerCase()==="button"}function ce(e){return F(e)&&e.tagName.toLowerCase()==="form"}function fe(e){return F(e)&&e.tagName.toLowerCase()==="input"}function de(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function me(e,r){return e.button===0&&(!r||r==="_self")&&!de(e)}function He(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let i=e[t];return r.concat(Array.isArray(i)?i.map(n=>[t,n]):[[t,i]])},[]))}let k=null;function pe(){if(k===null)try{new FormData(document.createElement("form"),0),k=!1}catch{k=!0}return k}const he=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function A(e){return e!=null&&!he.has(e)?null:e}function ve(e,r){let t,i,n,o,l;if(ce(e)){let u=e.getAttribute("action");i=u?I(u,r):null,t=e.getAttribute("method")||U,n=A(e.getAttribute("enctype"))||D,o=new FormData(e)}else if(ue(e)||fe(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(i=f?I(f,r):null,t=e.getAttribute("formmethod")||u.getAttribute("method")||U,n=A(e.getAttribute("formenctype"))||A(u.getAttribute("enctype"))||D,o=new FormData(u,e),!pe()){let{name:s,type:c,value:p}=e;if(c==="image"){let m=s?s+".":"";o.append(m+"x","0"),o.append(m+"y","0")}else s&&o.append(s,p)}}else{if(F(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=U,i=null,n=D,l=e}return o&&n==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:n,formData:o,body:l}}const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ye="6";try{window.__reactRouterVersion=ye}catch{}function Me(e,r){return ie({basename:r?.basename,future:C({},r?.future,{v7_prependBasename:!0}),history:ae({window:r?.window}),hydrationData:r?.hydrationData||Se(),routes:e,mapRouteProperties:X,window:r?.window}).initialize()}function Se(){var e;let r=(e=window)==null?void 0:e.__staticRouterHydrationData;return r&&r.errors&&(r=C({},r,{errors:be(r.errors)})),r}function be(e){if(!e)return null;let r=Object.entries(e),t={};for(let[i,n]of r)if(n&&n.__type==="RouteErrorResponse")t[i]=new oe(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let o=window[n.__subType];if(typeof o=="function")try{let l=new o(n.message);l.stack="",t[i]=l}catch{}}if(t[i]==null){let o=new Error(n.message);o.stack="",t[i]=o}}else t[i]=n;return t}const Re=a.createContext({isTransitioning:!1}),ge=a.createContext(new Map),Te="startTransition",H=q[Te],Ee="flushSync",M=G[Ee];function _e(e){H?H(e):e()}function x(e){M?M(e):e()}class Le{constructor(){this.status="pending",this.promise=new Promise((r,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",r(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function ze(e){let{fallbackElement:r,router:t,future:i}=e,[n,o]=a.useState(t.state),[l,u]=a.useState(),[f,s]=a.useState({isTransitioning:!1}),[c,p]=a.useState(),[m,g]=a.useState(),[w,L]=a.useState(),T=a.useRef(new Map),{v7_startTransition:P}=i||{},E=a.useCallback(d=>{P?_e(d):d()},[P]),h=a.useCallback((d,S)=>{let{deletedFetchers:v,unstable_flushSync:N,unstable_viewTransitionOpts:b}=S;v.forEach(R=>T.current.delete(R)),d.fetchers.forEach((R,Y)=>{R.data!==void 0&&T.current.set(Y,R.data)});let W=t.window==null||typeof t.window.document.startViewTransition!="function";if(!b||W){N?x(()=>o(d)):E(()=>o(d));return}if(N){x(()=>{m&&(c&&c.resolve(),m.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation})});let R=t.window.document.startViewTransition(()=>{x(()=>o(d))});R.finished.finally(()=>{x(()=>{p(void 0),g(void 0),u(void 0),s({isTransitioning:!1})})}),x(()=>g(R));return}m?(c&&c.resolve(),m.skipTransition(),L({state:d,currentLocation:b.currentLocation,nextLocation:b.nextLocation})):(u(d),s({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}))},[t.window,m,c,T,E]);a.useLayoutEffect(()=>t.subscribe(h),[t,h]),a.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new Le)},[f]),a.useEffect(()=>{if(c&&l&&t.window){let d=l,S=c.promise,v=t.window.document.startViewTransition(async()=>{E(()=>o(d)),await S});v.finished.finally(()=>{p(void 0),g(void 0),u(void 0),s({isTransitioning:!1})}),g(v)}},[E,l,c,t.window]),a.useEffect(()=>{c&&l&&n.location.key===l.location.key&&c.resolve()},[c,m,n.location,l]),a.useEffect(()=>{!f.isTransitioning&&w&&(u(w.state),s({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),L(void 0))},[f.isTransitioning,w]),a.useEffect(()=>{},[]);let y=a.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:d=>t.navigate(d),push:(d,S,v)=>t.navigate(d,{state:S,preventScrollReset:v?.preventScrollReset}),replace:(d,S,v)=>t.navigate(d,{replace:!0,state:S,preventScrollReset:v?.preventScrollReset})}),[t]),_=t.basename||"/",B=a.useMemo(()=>({router:t,navigator:y,static:!1,basename:_}),[t,y,_]);return a.createElement(a.Fragment,null,a.createElement(K.Provider,{value:B},a.createElement(J.Provider,{value:n},a.createElement(ge.Provider,{value:T.current},a.createElement(Re.Provider,{value:f},a.createElement(Q,{basename:_,location:n.location,navigationType:n.historyAction,navigator:y,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},n.initialized||t.future.v7_partialHydration?a.createElement(xe,{routes:t.routes,future:t.future,state:n}):r))))),null)}function xe(e){let{routes:r,future:t,state:i}=e;return Z(r,void 0,i,t)}const Ce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=a.forwardRef(function(r,t){let{onClick:i,relative:n,reloadDocument:o,replace:l,state:u,target:f,to:s,preventScrollReset:c,unstable_viewTransition:p}=r,m=le(r,we),{basename:g}=a.useContext(j),w,L=!1;if(typeof s=="string"&&Pe.test(s)&&(w=s,Ce))try{let h=new URL(window.location.href),y=s.startsWith("//")?new URL(h.protocol+s):new URL(s),_=I(y.pathname,g);y.origin===h.origin&&_!=null?s=_+y.search+y.hash:L=!0}catch{}let T=ee(s,{relative:n}),P=Fe(s,{replace:l,state:u,target:f,preventScrollReset:c,relative:n,unstable_viewTransition:p});function E(h){i&&i(h),h.defaultPrevented||P(h)}return a.createElement("a",C({},m,{href:w||T,onClick:L||o?i:E,ref:t,target:f}))});var O;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(O||(O={}));var z;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(z||(z={}));function ke(e){let r=a.useContext(K);return r||se(!1),r}function Fe(e,r){let{target:t,replace:i,state:n,preventScrollReset:o,relative:l,unstable_viewTransition:u}=r===void 0?{}:r,f=te(),s=ne(),c=re(e,{relative:l});return a.useCallback(p=>{if(me(p,t)){p.preventDefault();let m=i!==void 0?i:V(s)===V(c);f(e,{replace:m,state:n,preventScrollReset:o,relative:l,unstable_viewTransition:u})}},[s,f,c,i,n,t,e,o,l,u])}function Ue(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let De=0,Ae=()=>"__"+String(++De)+"__";function je(){let{router:e}=ke(O.UseSubmit),{basename:r}=a.useContext(j),t=$();return a.useCallback(function(i,n){n===void 0&&(n={}),Ue();let{action:o,method:l,encType:u,formData:f,body:s}=ve(i,r);if(n.navigate===!1){let c=n.fetcherKey||Ae();e.fetch(c,t,n.action||o,{preventScrollReset:n.preventScrollReset,formData:f,body:s,formMethod:n.method||l,formEncType:n.encType||u,unstable_flushSync:n.unstable_flushSync})}else e.navigate(n.action||o,{preventScrollReset:n.preventScrollReset,formData:f,body:s,formMethod:n.method||l,formEncType:n.encType||u,replace:n.replace,state:n.state,fromRouteId:t,unstable_flushSync:n.unstable_flushSync,unstable_viewTransition:n.unstable_viewTransition})},[e,r,t])}export{Ke as L,ze as R,Me as a,He as c,je as u};
//# sourceMappingURL=react-router-dom-D9W53kLa.js.map
