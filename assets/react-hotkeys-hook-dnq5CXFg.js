import{r as l}from"./react-Fj6bOIfE.js";function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},S.apply(this,arguments)}var O=["shift","alt","meta","mod","ctrl"],F={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function c(e){return(F[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function W(e){return O.includes(e)}function A(e,t){return t===void 0&&(t=","),e.split(t)}function P(e,t,r){t===void 0&&(t="+");var o=e.toLocaleLowerCase().split(t).map(function(f){return c(f)}),a={alt:o.includes("alt"),ctrl:o.includes("ctrl")||o.includes("control"),shift:o.includes("shift"),meta:o.includes("meta"),mod:o.includes("mod")},y=o.filter(function(f){return!O.includes(f)});return S({},a,{keys:y,description:r})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&_([c(e.key),c(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&D([c(e.key),c(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){d.clear()})})();var d=new Set;function R(e){return Array.isArray(e)}function $(e,t){t===void 0&&(t=",");var r=R(e)?e:e.split(t);return r.every(function(o){return d.has(o.trim().toLowerCase())})}function _(e){var t=Array.isArray(e)?e:[e];d.has("meta")&&d.forEach(function(r){return!W(r)&&d.delete(r.toLowerCase())}),t.forEach(function(r){return d.add(r.toLowerCase())})}function D(e){var t=Array.isArray(e)?e:[e];e==="meta"?d.clear():t.forEach(function(r){return d.delete(r.toLowerCase())})}function N(e,t,r){(typeof r=="function"&&r(e,t)||r===!0)&&e.preventDefault()}function z(e,t,r){return typeof r=="function"?r(e,t):r===!0||r===void 0}function G(e){return M(e,["input","textarea","select"])}function M(e,t){var r=e.target;t===void 0&&(t=!1);var o=r&&r.tagName;return R(t)?!!(o&&t&&t.some(function(a){return a.toLowerCase()===o.toLowerCase()})):!!(o&&t&&t===!0)}function J(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(r){return t.includes(r)})||e.includes("*"):!0}var Q=function(t,r,o){o===void 0&&(o=!1);var a=r.alt,y=r.meta,f=r.mod,v=r.shift,k=r.ctrl,i=r.keys,g=t.key,n=t.code,C=t.ctrlKey,w=t.metaKey,p=t.shiftKey,b=t.altKey,m=c(n),s=g.toLowerCase();if(!(i!=null&&i.includes(m))&&!(i!=null&&i.includes(s))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(m))return!1;if(!o){if(a===!b&&s!=="alt"||v===!p&&s!=="shift")return!1;if(f){if(!w&&!C)return!1}else if(y===!w&&s!=="meta"&&s!=="os"||k===!C&&s!=="ctrl"&&s!=="control")return!1}return i&&i.length===1&&(i.includes(s)||i.includes(m))?!0:i?$(i):!i},T=l.createContext(void 0),U=function(){return l.useContext(T)};function I(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(r,o){return r&&I(e[o],t[o])},!0):e===t}var V=l.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),X=function(){return l.useContext(V)};function Y(e){var t=l.useRef(void 0);return I(t.current,e)||(t.current=e),t.current}var B=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},Z=typeof window<"u"?l.useLayoutEffect:l.useEffect;function te(e,t,r,o){var a=l.useRef(null),y=l.useRef(!1),f=r instanceof Array?o instanceof Array?void 0:o:r,v=R(e)?e.join(f?.splitKey):e,k=r instanceof Array?r:o instanceof Array?o:void 0,i=l.useCallback(t,k??[]),g=l.useRef(i);k?g.current=i:g.current=t;var n=Y(f),C=X(),w=C.enabledScopes,p=U();return Z(function(){if(!(n?.enabled===!1||!J(w,n?.scopes))){var b=function(u,K){var x;if(K===void 0&&(K=!1),!(G(u)&&!M(u,n?.enableOnFormTags))){if(a.current!==null){var H=a.current.getRootNode();if((H instanceof Document||H instanceof ShadowRoot)&&H.activeElement!==a.current&&!a.current.contains(H.activeElement)){B(u);return}}(x=u.target)!=null&&x.isContentEditable&&!(n!=null&&n.enableOnContentEditable)||A(v,n?.splitKey).forEach(function(q){var j,E=P(q,n?.combinationKey);if(Q(u,E,n?.ignoreModifiers)||(j=E.keys)!=null&&j.includes("*")){if(n!=null&&n.ignoreEventWhen!=null&&n.ignoreEventWhen(u)||K&&y.current)return;if(N(u,E,n?.preventDefault),!z(u,E,n?.enabled)){B(u);return}g.current(u,E),K||(y.current=!0)}})}},m=function(u){u.key!==void 0&&(_(c(u.code)),(n?.keydown===void 0&&n?.keyup!==!0||n!=null&&n.keydown)&&b(u))},s=function(u){u.key!==void 0&&(D(c(u.code)),y.current=!1,n!=null&&n.keyup&&b(u,!0))},L=a.current||f?.document||document;return L.addEventListener("keyup",s),L.addEventListener("keydown",m),p&&A(v,n?.splitKey).forEach(function(h){return p.addHotkey(P(h,n?.combinationKey,n?.description))}),function(){L.removeEventListener("keyup",s),L.removeEventListener("keydown",m),p&&A(v,n?.splitKey).forEach(function(h){return p.removeHotkey(P(h,n?.combinationKey,n?.description))})}}},[v,n,w]),a}export{te as u};
//# sourceMappingURL=react-hotkeys-hook-dnq5CXFg.js.map
