import{r as p}from"./remove-accents-ChiVtsaT.js";/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2020 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const f={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0},O=(n,e)=>String(n.rankedValue).localeCompare(String(e.rankedValue));function H(n,e,r){r===void 0&&(r={});const{keys:t,threshold:d=f.MATCHES,baseSort:a=O,sorter:c=u=>u.sort((s,i)=>_(s,i,a))}=r,o=n.reduce(l,[]);return c(o).map(u=>{let{item:s}=u;return s});function l(u,s,i){const A=E(s,t,e,r),{rank:I,keyThreshold:h=d}=A;return I>=h&&u.push({...A,item:s,index:i}),u}}H.rankings=f;function E(n,e,r,t){if(!e){const a=n;return{rankedValue:a,rank:m(a,r,t),keyIndex:-1,keyThreshold:t.threshold}}return x(n,e).reduce((a,c,o)=>{let{rank:l,rankedValue:u,keyIndex:s,keyThreshold:i}=a,{itemValue:A,attributes:I}=c,h=m(A,r,t),C=u;const{minRanking:y,maxRanking:k,threshold:g}=I;return h<y&&h>=f.MATCHES?h=y:h>k&&(h=k),h>l&&(l=h,s=o,i=g,C=A),{rankedValue:C,rank:l,keyIndex:s,keyThreshold:i}},{rankedValue:n,rank:f.NO_MATCH,keyIndex:-1,keyThreshold:t.threshold})}function m(n,e,r){return n=V(n,r),e=V(e,r),e.length>n.length?f.NO_MATCH:n===e?f.CASE_SENSITIVE_EQUAL:(n=n.toLowerCase(),e=e.toLowerCase(),n===e?f.EQUAL:n.startsWith(e)?f.STARTS_WITH:n.includes(` ${e}`)?f.WORD_STARTS_WITH:n.includes(e)?f.CONTAINS:e.length===1?f.NO_MATCH:N(n).includes(e)?f.ACRONYM:S(n,e))}function N(n){let e="";return n.split(" ").forEach(t=>{t.split("-").forEach(a=>{e+=a.substr(0,1)})}),e}function S(n,e){let r=0,t=0;function d(l,u,s){for(let i=s,A=u.length;i<A;i++)if(u[i]===l)return r+=1,i+1;return-1}function a(l){const u=1/l,s=r/e.length;return f.MATCHES+s*u}const c=d(e[0],n,0);if(c<0)return f.NO_MATCH;t=c;for(let l=1,u=e.length;l<u;l++){const s=e[l];if(t=d(s,n,t),!(t>-1))return f.NO_MATCH}const o=t-c;return a(o)}function _(n,e,r){const{rank:a,keyIndex:c}=n,{rank:o,keyIndex:l}=e;return a===o?c===l?r(n,e):c<l?-1:1:a>o?-1:1}function V(n,e){let{keepDiacritics:r}=e;return n=`${n}`,r||(n=p(n)),n}function b(n,e){typeof e=="object"&&(e=e.key);let r;if(typeof e=="function")r=e(n);else if(n==null)r=null;else if(Object.hasOwnProperty.call(n,e))r=n[e];else{if(e.includes("."))return M(e,n);r=null}return r==null?[]:Array.isArray(r)?r:[String(r)]}function M(n,e){const r=n.split(".");let t=[e];for(let d=0,a=r.length;d<a;d++){const c=r[d];let o=[];for(let l=0,u=t.length;l<u;l++){const s=t[l];if(s!=null)if(Object.hasOwnProperty.call(s,c)){const i=s[c];i!=null&&o.push(i)}else c==="*"&&(o=o.concat(s))}t=o}return Array.isArray(t[0])?[].concat(...t):t}function x(n,e){const r=[];for(let t=0,d=e.length;t<d;t++){const a=e[t],c=R(a),o=b(n,a);for(let l=0,u=o.length;l<u;l++)r.push({itemValue:o[l],attributes:c})}return r}const T={maxRanking:1/0,minRanking:-1/0};function R(n){return typeof n=="string"?T:{...T,...n}}export{H as m};
//# sourceMappingURL=match-sorter-C_hz5zXn.js.map
